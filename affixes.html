<!DOCTYPE html>
<html>
<head>
<style>
	
body {
  margin: 0;
  font-family: Arial;
}

.top-container {
  background-color: #f1f1f1;
  padding: 5px;
  text-align: center;
}
.button {
    background-color: #4CAF50;
    border: none;
    color: white;
    width: 25%;
    padding: 5px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
    float: left;
    border: 1px solid green;
}
.button:hover {
    background: green;
}
td {
    border: 1px solid black;
}

tr:hover { 
	background: yellow; 
}

.header {
  padding: 0px 0px;
  background: #555;
  color: #f1f1f1;
}

.content {
  padding: 10px;
}

.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}

.sticky + .content {
  padding-top: 50px;
}
</style>
</head>
<body>

<div class="top-container">
  <h1>Current Affixes</h1>
</div>

<div class="header" id="myHeader">
	<a href="index.html"><button class = "button" id="home">Home</button></a>
    	<a href="rankings.html"><button class = "button" id="rankings">Rankings</button></a>
    	<a href ="affixes.html"><button class = "button" id="affixes">Affixes</button></a>
    	<a href="#"><button class = "button" id="dungeons">NYI</button></a>
</div>

<script>
window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset >= sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}
</script>

</body>
<br><br>
<body onload = "updateClock(); loadTable()">
<img style = "display:inline" id="pone" width = "50" height = "50" border ="2"> 
<p style ="font-size:40px; text-align:center; display:inline; vertical-align:top" id="hone"> </p> 
<p style = "color:black; text-align:left" id="pdone"> </p>
<img style = "display:inline" id="ptwo" width = "50" height = "50" border ="2"> 
<p style ="font-size:40px; text-align:center; display:inline; vertical-align:top" id="htwo"> </p> 
<p style = "color:black" id="pdtwo"> </p>
<img style = "display:inline" id="pthree" width = "50" height = "50" border ="2"> 
<p style ="font-size:40px; text-align:center; display:inline; vertical-align:top" id="hthree"> </p> 
<p style = "color:black" id="pdthree"> </p>
<table>
  	<tr>
    	<th colspan = 3>Upcoming Affixes</th>
  	</tr>
  	<tr>
    	<td id ="week00"></td>
        <td id ="week01"></td>
        <td id ="week02"></td>
  	</tr>
  	<tr>
    	<td id ="week10"></td>
        <td id ="week11"></td>
        <td id ="week12"></td>
  	</tr>
  	<tr>
    	<td id ="week20"></td>
        <td id ="week21"></td>
        <td id ="week22"></td>
    </tr>
    <tr>
    	<td id ="week30"></td>
        <td id ="week31"></td>
        <td id ="week32"></td>
    </tr>
    <tr>
    	<td id ="week40"></td>
        <td id ="week41"></td>
        <td id ="week42"></td>
    </tr>
    <tr>
    	<td id ="week50"></td>
        <td id ="week51"></td>
        <td id ="week52"></td>
    </tr>
    <tr>
    	<td id ="week60"></td>
        <td id ="week61"></td>
        <td id ="week62"></td>
    </tr>
    <tr>
    	<td id ="week70"></td>
        <td id ="week71"></td>
        <td id ="week72"></td>
    </tr>
    <tr>
    	<td id ="week80"></td>
        <td id ="week81"></td>
        <td id ="week82"></td>
    </tr>
    <tr>
    	<td id ="week90"></td>
        <td id ="week91"></td>
        <td id ="week92"></td>
    </tr>
    <tr>
    	<td id ="week100"></td>
        <td id ="week101"></td>
        <td id ="week102"></td>
    </tr>
    <tr>
    	<td id ="week110"></td>
        <td id ="week111"></td>
        <td id ="week112"></td>
    </tr>
</table>
</body>
	

<script>
var day;
var imglink0, imglink1, imglink2;
var desc0, desc1, desc2;
var cl0, cl1, cl2;
var startDateTime = new Date(2018, 2, 20, 11, 0, 0, 0);
var startStamp = startDateTime.getTime();
var timer;
let incweek = 0;
var d, h, m, s;
    
	function daysInMonth (month, year) {
    		return new Date(year, month, 0).getDate();
	}
    
	function updateClock() {
    		newDate = new Date();
    		newStamp = newDate.getTime();
    		var diff = Math.round((newStamp-startStamp)/1000);
    
     		d = Math.floor(diff/(24*60*60));
    		diff = diff-(d*24*60*60);
    		h = Math.floor(diff/(60*60));
    		diff = diff-(h*60*60);
    		m = Math.floor(diff/(60));
    		diff = diff-(m*60);
    		s = diff;
    
    		if (d/7 >= 1) {
    			startDateTimedate = startDateTime.getDate() + 7;
        		if (startDateTimedate > daysInMonth(startDateTime.getMonth+1, startDateTime.getFullYear)) {
        			startDateTime.setDate(startDateTimedate - daysInMonth(startDateTime.getMonth+1, startDateTime.getFullYear));
        			startDateTime.setMonth(startDateTime.getMonth+1);
        		} else { 
        			startDateTime.setDate(startDateTimedate);
        		}
        		startStamp = startDateTime.getTime();
        		incweek = incweek + 1;
        		if (incweek == 11) {
        			incweek = 0;
        		}
        			updateClock();
    		} else {
    		}
    		//thisweek = allweeks[incweek];
    		//alert("this week "+thisweek);
    		allweeks = [["Sanguine", "Necrotic", "Fortified"], ["Bursting", "Skittish", "Tyrannical"], ["Teeming", "Quaking", "Fortified"], ["Raging", "Necrotic", "Tyrannical"], ["Bolstering", "Skittish", "Fortified"], ["Teeming", "Volcanic", "Tyrannical"], ["Sanguine", "Grevious", "Fortified"], ["Bolstering", "Explosive", "Tyrannical"], ["Bursting", "Quaking", "Fortified"],["Raging", "Volcanic", "Tyrannical"], ["Teeming", "Explosive", "Fortified"], ["Bolstering", "Grevious", "Tyrannical"]];

		thisweek = allweeks[incweek];
		nextweek = allweeks[incweek+1];
		twoweeks = allweeks[incweek+2];

		if (thisweek[0] == "Sanguine") {
        		imglink0 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_shadow_bloodboil.jpg"; 
        		desc0 = "• When slain, non-boss enemies leave behind a lingering pool of ichor that heals their allies and damages players";
        		cl0 = "green";
        //sanguine
		} else if (thisweek[0] == "Bolstering") {
        		imglink0 = "http://blzmedia-a.akamaihd.net/wow/icons/56/ability_warrior_battleshout.jpg"; 
        		desc0 = "• When any non-boss enemy dies, its death cry empowers nearby allies, increasing their maximum health and damage by 20%";
        		cl0 = "orange";
        //bolstering
		} else if (thisweek[0] == "Raging") {
       			imglink0 = "http://blzmedia-a.akamaihd.net/wow/icons/56/ability_warrior_focusedrage.jpg"; 
        		desc0 = "• Non-boss enemies enrage at 30% health remaining, dealing 100% increased damage until defeated"; 
        		cl0 = "orange";
        //raging
		} else if (thisweek[0] == "Teeming") {
        		imglink0 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_nature_massteleport.jpg"; 
        		desc0 = "• Additional non-boss enemies are present throughout the dungeon";
        		cl0 = "orange";
        //teeming
		} else if (thisweek[0] == "Bursting") {
        		imglink0 = "http://blzmedia-a.akamaihd.net/wow/icons/56/ability_ironmaidens_whirlofblood.jpg"; 
        		desc0 = "• When slain, non-boss enemies explode, causing all players to suffer 10% of their max health in damage over 4 sec. This effect stacks"
        		cl0 = "orange";
        //bursting
		}

// ------------------------------------------------------------------ //

		if (thisweek[1] == "Necrotic") {
			imglink1 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_deathknight_necroticplague.jpg"; 
        		desc1 = "• All enemies' melee attacks apply a stacking blight that inflicts damage over time and reduces healing received";
        		cl1 = "red";
        //necrotic
		} else if (thisweek[1] == "Skittish") {
        		imglink1 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_magic_lesserinvisibilty.jpg"; 
        		desc1 = "• Enemies pay far less attention to threat generated by tanks";
        		cl1 = "orange";
        //skittish
		} else if (thisweek[1] == "Volcanic") {
        		imglink1 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_shaman_lavasurge.jpg"; 
        		desc1 = "• While in combat, enemies periodically cause gouts of flame to erupt beneath the feet of distant players"; 
        		cl1 = "green";
        //volcanic
		} else if (thisweek[1] == "Explosive") {
        		imglink1 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_fire_felflamering.jpg"; 
        		desc1 = "• While in combat, enemies periodically summon Explosive Orbs that will detonate if not destroyed";
        		cl1 = "orange";
        //explosive
		} else if (thisweek[1] == "Quaking") {
        		imglink1 = "http://blzmedia-a.akamaihd.net/wow/icons/56/spell_nature_earthquake.jpg"; 
        		desc1 = "• Periodically, all players emit a shockwave, inflicting damage and interrupting nearby allies";
        		cl1 = "green";
        //quaking
		} else if (thisweek[1] == "Grevious") {
        		imglink1 = "http://blzmedia-a.akamaihd.net/wow/icons/56/ability_backstab.jpg"; 
        		desc1 = "• When injured below 90% health, players will suffer increasing damage over time until healed above 90% health";
        		cl1 = "orange";
		}

// ------------------------------------------------------------------ //

		if (thisweek[2] == "Fortified") {
        		imglink2 = "http://blzmedia-a.akamaihd.net/wow/icons/56/ability_toughness.jpg"; 
        		desc2 = "• Non-boss enemies have 20% more health and inflict up to 30% increased damage";
        		cl2 = "orange";
        //fortified
		} else if (thisweek[2] == "Tyrannical") {
        		imglink2 = "http://blzmedia-a.akamaihd.net/wow/icons/56/achievement_boss_archaedas.jpg"; 
        		desc2 = "• Boss enemies have 40% more health and inflict up to 15% increased damage";
        		cl2 = "red";
        //tyrannical
		}
		document.getElementById('hone').innerHTML = thisweek[0];
		document.getElementById('hone').style.color = cl0;
		document.getElementById('pdone').innerHTML = desc0;
		document.getElementById('pone').src = imglink0;
		document.getElementById('htwo').innerHTML = thisweek[1];
		document.getElementById('htwo').style.color = cl1;
		document.getElementById('pdtwo').innerHTML = desc1;
		document.getElementById('ptwo').src = imglink1;
		document.getElementById('hthree').innerHTML = thisweek[2];
		document.getElementById('hthree').style.color = cl2;
		document.getElementById('pdthree').innerHTML = desc2;
		document.getElementById('pthree').src = imglink2;
	}
</script>

<script>
function loadTable() {
	for (i=0;i<=11; i++) {
        for (j=0; j<=2;j++) {
        	document.getElementById("week"+i+j).innerHTML = allweeks[i][j];
            if (document.getElementById("week"+i+0).innerHTML == document.getElementById('hone').innerHTML & document.getElementById("week"+i+1).innerHTML == document.getElementById('htwo').innerHTML & document.getElementById("week"+i+2).innerHTML == document.getElementById('hthree').innerHTML) {
                document.getElementById('week'+i+0).style.background = "#4CAF50";
                document.getElementById('week'+i+1).style.background = "#4CAF50";
                document.getElementById('week'+i+2).style.background = "#4CAF50";
                document.getElementById('week'+i+0).style.color ="white"; 					document.getElementById('week'+i+1).style.color = "white";
                document.getElementById('week'+i+2).style.color = "white";
            }
        }
    }
}
</script>

</html>
